
# Autostart
exec-once = bash -lc 'pgrep -xu "$USER" dunst >/dev/null || dunst &'
exec-once = uwsm app -- dunst  &
exec-once = bash -lc 'pgrep -xu "$USER" hyprpaper >/dev/null || hyprpaper &'
exec-once = bash -lc 'pgrep -xu "$USER" hypridle  >/dev/null || hypridle &'
exec-once = bash -lc 'pgrep -xu "$USER" nextcloud >/dev/null || nextcloud --background &'
exec-once = bash -lc 'pgrep -xu "$USER" blueman-applet >/dev/null || blueman-applet &'

# exec-once = $HOME/dotfiles/config/hypr/scripts/launch-waybar # launched via systemd

# exec-once = $HOME/dotfiles/config/hypr/scripts/wallpaper.sh

# Polkit agent and wallet initialization
exec-once = systemctl --user start hyprpolkitagent &
exec-once = /usr/lib/polkit-kde-authentication-agent-1

# KWallet initialization (KDE6 uses kwalletd6)
exec-once = /usr/bin/kwalletd6 --daemonize

# Ensure wallet is unlocked for session (optional - will prompt if needed)
# exec-once = sleep 2 && kwallet-query -l kdewallet >/dev/null 2>&1 || true

# Clipboard manager
exec-once = wl-paste --type text --watch cliphist store &
exec-once = wl-paste --type image --watch cliphist store &

# Settings for gtk
exec-once = gsettings set org.gnome.desktop.interface color-scheme prefer-dark
exec-once = gsettings set org.gtk.Settings.FileChooser startup-mode cwd
exec-once = gsettings set org.gtk.gtk4.Settings.FileChooser startup-mode cwd


# NEw Launcher?
exec-once = vicinae server

